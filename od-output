0000000    t   r   y   C   o   u   n   t   =   1  nl   d   e   c   l   a
0000020    r   e  sp   -   a  sp   c   u   r   r   e   n   t   S   t   a
0000040    g   e   S   t   a   t   e   s  nl   p   i   p   e   l   i   n
0000060    e   T   r   i   g   g   e   r   e   d   =   0  nl  nl   u   n
0000100    t   i   l  sp   [   [  sp   $   t   r   y   C   o   u   n   t
0000120   sp   -   l   t  sp   1   2   1  sp   ]   ]   ;  sp   d   o  sp
0000140    #   C   o   n   f   i   g   u   r   i   n   g  sp   f   o   r
0000160   sp   1   2   0  sp   r   e   t   r   i   e   s  sp   5  sp   s
0000200    e   c   o   n   d   s  sp   p   e   r  sp   r   e   t   r   y
0000220    ,  sp   s   o  sp   w   i   l   l  sp   r   e   t   r   y  sp
0000240    f   o   r  sp   1   0  sp   m   i   n   u   t   e   s   .  nl
0000260   sp  sp   #   s   t   a   t   e   m   e   n   t   s  nl  sp  sp
0000300    e   c   h   o  sp   "   T   r   i   g   g   e   r  sp   p   i
0000320    p   e   l   i   n   e  sp   a   t   t   e   m   p   t  sp   $
0000340    t   r   y   C   o   u   n   t   "  nl  sp  sp   c   u   r   r
0000360    e   n   t   S   t   a   t   e   s   =   $   (   a   w   s  sp
0000400    c   o   d   e   p   i   p   e   l   i   n   e  sp   g   e   t
0000420    -   p   i   p   e   l   i   n   e   -   s   t   a   t   e  sp
0000440    -   -   n   a   m   e  sp   s   3   -   t   o   -   c   f   n
0000460   sp   -   -   q   u   e   r   y  sp   "   s   t   a   g   e   S
0000500    t   a   t   e   s   [   ]   .   l   a   t   e   s   t   E   x
0000520    e   c   u   t   i   o   n   .   s   t   a   t   u   s   "  sp
0000540    -   -   o   u   t   p   u   t  sp   t   e   x   t   )  sp   #
0000560    G   e   t   s  sp   c   u   r   r   e   n   t  sp   p   i   p
0000600    e   l   i   n   e  sp   s   t   a   g   e  sp   s   t   a   t
0000620    e   s  nl  sp  sp   c   u   r   r   e   n   t   S   t   a   g
0000640    e   S   t   a   t   e   s   =   (   $   c   u   r   r   e   n
0000660    t   S   t   a   t   e   s   )  nl  sp  sp   l   e   n   =   $
0000700    {   #   c   u   r   r   e   n   t   S   t   a   g   e   S   t
0000720    a   t   e   s   [   @   ]   }  sp   #   G   e   t   s  sp   n
0000740    u   m   b   e   r  sp   o   f  sp   s   t   a   g   e   s  nl
0000760   sp  sp   f   o   r  sp   (   (  sp   i   =   0   ;  sp   i   <
0001000    $   l   e   n   ;  sp   i   +   +  sp   )   )   ;  sp   #   L
0001020    o   o   p  sp   t   o  sp   c   h   e   c   k  sp   s   t   a
0001040    t   e  sp   o   f  sp   e   a   c   h  sp   s   t   a   g   e
0001060    .  nl  sp  sp   d   o  nl  sp  sp  sp  sp   s   =   $   {   c
0001100    u   r   r   e   n   t   S   t   a   g   e   S   t   a   t   e
0001120    s   [   i   ]   }   ;  nl  sp  sp  sp  sp   i   f  sp   [   [
0001140    "   $   s   "  sp   =   =  sp   I   n   P   r   o   g   r   e
0001160    s   s   ]   ]   ;  sp   #   C   h   e   c   k  sp   i   f  sp
0001200    t   h   e  sp   s   t   a   g   e  sp   s   t   a   t   e  sp
0001220    i   s  sp   I   n   P   r   o   g   r   e   s   s  nl  sp  sp
0001240   sp  sp  sp  sp   t   h   e   n  nl  sp  sp  sp  sp  sp  sp  sp
0001260   sp   e   c   h   o  sp   "   A  sp   s   t   a   g   e  sp   i
0001300    s  sp   i   n  sp   p   r   o   g   r   e   s   s   ,  sp   w
0001320    a   i   t   i   n   g   "   ;  nl  sp  sp  sp  sp  sp  sp  sp
0001340   sp   b   r   e   a   k  sp   #   B   r   e   a   k  sp   f   r
0001360    o   m  sp   t   h   i   s  sp   f   o   r   -   l   o   o   p
0001400   sp   a   n   d  sp   s   l   e   e   p  sp   f   o   r  sp   5
0001420   sp   s   e   c   o   n   d   s  sp   b   e   f   o   r   e  sp
0001440    r   e   t   r   y   i   n   g  nl  sp  sp  sp  sp  sp  sp   e
0001460    l   s   e  nl  sp  sp  sp  sp  sp  sp  sp  sp   (   (  sp   a
0001500   sp   =  sp   l   e   n  sp   -  sp   1   )   )  sp   #   G   e
0001520    t  sp   c   o   u   n   t  sp   o   f  sp   l   a   s   t  sp
0001540    s   t   a   g   e  nl  sp  sp  sp  sp  sp  sp  sp  sp   i   f
0001560   sp   [  sp   $   i  sp   -   e   q  sp   $   a  sp   ]  sp  sp
0001600    #   C   h   e   c   k  sp   i   f  sp   t   h   i   s  sp   i
0001620    s  sp   l   a   s   t  sp   s   t   a   g   e  nl  sp  sp  sp
0001640   sp  sp  sp  sp  sp  sp  sp   t   h   e   n  nl  sp  sp  sp  sp
0001660   sp  sp  sp  sp  sp  sp  sp  sp   e   c   h   o  sp   "   T   r
0001700    i   g   g   e   r   i   n   g  sp   p   i   p   e   l   i   n
0001720    e   "  nl  sp  sp  sp  sp  sp  sp  sp  sp  sp  sp  sp  sp   #
0001740    P   i   p   e   l   i   n   e  sp   T   r   i   g   g   e   r
0001760    i   n   g  sp   c   o   d   e   .  nl  sp  sp  sp  sp  sp  sp
0002000   sp  sp  sp  sp  sp  sp   p   i   p   e   l   i   n   e   T   r
0002020    i   g   g   e   r   e   d   =   1  nl  sp  sp  sp  sp  sp  sp
0002040   sp  sp  sp  sp   e   l   s   e  nl  sp  sp  sp  sp  sp  sp  sp
0002060   sp  sp  sp  sp  sp   c   o   n   t   i   n   u   e  nl  sp  sp
0002100    d   o   n   e  nl  sp  sp   i   f  sp   [   $   p   i   p   e
0002120    l   i   n   e   T   r   i   g   g   e   r   e   d  sp   -   e
0002140    q  sp   1   ]  sp   #   C   h   e   c   k  sp   i   f  sp   p
0002160    i   p   e   l   i   n   e  sp   w   a   s  sp   t   r   i   g
0002200    e   r   r   e   d  sp   i   n  sp   p   r   e   c   e   d   i
0002220    n   g  sp   f   o   r   -   l   o   o   p   .  nl  sp  sp   t
0002240    h   e   n  nl  sp  sp  sp  sp   b   r   e   a   k  sp   #   B
0002260    r   e   a   k  sp   f   r   o   m  sp   t   h   e  sp   w   h
0002300    i   l   e   /   u   n   t   i   l  sp   l   o   o   p  nl  sp
0002320   sp   e   l   s   e  nl  sp  sp  sp  sp   (   (   t   r   y   C
0002340    o   u   n   t   +   +   )   )  sp   #   I   n   c   r   e   m
0002360    e   n   t   i   n   g  sp   r   e   t   r   y  sp   c   o   u
0002400    n   t  nl  sp  sp  sp  sp   s   l   e   e   p  sp   (   5   )
0002420   sp   #   S   l   e   e   p  sp   f   o   r  sp   5  sp   s   e
0002440    c   o   n   d   s  sp   b   e   f   o   r   e  sp   r   e   t
0002460    r   y   i   n   g  nl   d   o   n   e  nl                    
0002473
